function call(){document.querySelector(".monogram-unselected-text");var e=document.querySelector(".monogram-selected-text"),t=document.querySelector("#monogram-add"),r=(document.querySelector("#monogram-cart-add"),document.querySelector("#monogram-remove")),a=document.querySelector(".monogram-error"),n=document.querySelector(".monogram-input"),o=document.querySelector(".modal-monogram"),c="";function d(){if(""!=n.value){var e=n.value.match(/^([A-Za-z])/);if(null!=e){var r=function(e){for(var t=e.toLowerCase().split(" "),r=0;r<t.length;r++)t[r]=t[r].charAt(0).toUpperCase()+t[r].substring(1);return t.join(" ")}(e.input);n.value=r}var o=0;null==n.value.match(/^[A-Za-z" "]*$/)&&(o+=1),n.value.length>=10&&(o+=1);for(let e=0;e<l.length;e++)n.value.toLowerCase()==l[e].toLowerCase()&&(o+=1);for(let e=0;e<i.length;e++)n.value.toLowerCase().includes(i[e].toLowerCase())&&(o+=1);for(let e=0;e<u.length;e++)n.value.includes(u[e])&&(o+=1);return 0==o?(!0,c=n.value,t.removeAttribute("disabled"),a.classList.add("hidden")):(c="",t.setAttribute("disabled",""),a.classList.remove("hidden")),o}return c="",0}if(drawCanvases(),null!=n){var l=n.getAttribute("data-profanity-list").split(","),i=n.getAttribute("data-profanity-list-contains").split(","),u=n.getAttribute("data-chars-list").split(",");function s(){d();var e=o.querySelector(".monogram-canvas").getAttribute("data-monogram-colour"),t=o.querySelector(".monogram-canvas").getAttribute("data-monogram-text-x"),r=o.querySelector(".monogram-canvas").getAttribute("data-monogram-text-y"),a=o.querySelector(".monogram-canvas").getAttribute("data-love-island-font"),n=o.querySelector(".monogram-canvas").getAttribute("data-retro-font"),l=o.querySelector(".monogram-canvas").getAttribute("data-monogram-font-size"),i="Dancing";"true"==a&&(i="Pecita"),"true"==n&&(i="Beachfly");var u=o.querySelector(".monogram-canvas").getAttribute("id"),s=document.getElementById(u);if(null!=s){var m=s.getContext("2d"),g=new Image;g.src=s.getAttribute("data-image"),g.onload=function(){m.drawImage(g,0,0,640,320),m.font=l+"pt "+i,m.fillStyle=e,m.textAlign="center",m.fillText(c,t,r)}}}n.addEventListener("keyup",s),n.addEventListener("change",s),n.addEventListener("keydown",(function(){const e=event.key;if("Backspace"===e||"Delete"===e){if(!(t.innerHTML="Added"))return;return t.innerHTML="Add",!1}}))}null!=t&&t.addEventListener("click",(function(r){if(r.preventDefault(),0==d()){a.classList.add("is-hidden"),e.classList.remove("hidden"),e.querySelector(".selected-mono").innerHTML=c,t.innerHTML="Added";var n=document.querySelector(".monogram-priced").dataset.monogramPrice,o=document.querySelector("[data-product-price]").dataset.productPrice,l=document.querySelector("[data-product-price]")[0],i=document.querySelectorAll("[data-product-price]");if(n&&o&&i){var u=`£${(parseInt(o)+parseInt(n))/100}`.replace(/\.00$/,"");l.text(u),l.innerHTML=u}}else a.classList.remove("is-hidden")})),null!=r&&r.addEventListener("click",(function(t){t.preventDefault(),n.value="",c="",a.classList.add("hidden"),e.querySelector(".selected-mono").innerHTML="",e.classList.add("hidden");var r=document.querySelector("[data-product-price]"),o=r.dataset.productPrice,d=document.querySelectorAll("[data-product-price]");if(o&&d){var l=`£${parseInt(o)/100}`.replace(/\.00$/,"");r.text(l)}}))}function drawCanvases(){var e=document.getElementsByClassName("monogram-canvas");if(e.length>0){var t=[];for(let a=0;a<e.length;a++){var r=new Image;r.src=e[a].getAttribute("data-image"),t.push(r),""!=e[a].getAttribute("data-image")?e[a].classList.remove("hidden"):e[a].classList.add("hidden")}t.map((function(r,a){new Promise((function(e,t){r.onload=e})).then((function(){var r=e[a].getContext("2d");r.clearRect(0,0,640,320);var n=t[a];r.drawImage(n,0,0,640,320)}))}))}}call();